<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1.0" name="viewport">

    <title>Library Bootstrap Template - Index</title>
    <meta content="" name="description">
    <meta content="" name="keywords">

    <!-- Favicons -->
    <link href="assets/lib.png" rel="icon">

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,300;0,400;0,500;0,600;0,700;1,300;1,400;1,600;1,700&family=Roboto:ital,wght@0,300;0,400;0,500;0,600;0,700;1,300;1,400;1,500;1,600;1,700&family=Work+Sans:ital,wght@0,300;0,400;0,500;0,600;0,700;1,300;1,400;1,500;1,600;1,700&display=swap"
          rel="stylesheet">

    <!-- Vendor CSS Files -->
    <link href="assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <link href="assets/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet">
    <link href="assets/vendor/fontawesome-free/css/all.min.css" rel="stylesheet">
    <link href="assets/vendor/aos/aos.css" rel="stylesheet">
    <link href="assets/vendor/glightbox/css/glightbox.min.css" rel="stylesheet">
    <link href="assets/vendor/swiper/swiper-bundle.min.css" rel="stylesheet">

    <!-- Template Main CSS File -->
    <link href="assets/css/main.css" rel="stylesheet">

    <!-- =======================================================
    * Template Name: UpConstruction
    * Updated: Aug 30 2023 with Bootstrap v5.3.1
    * Template URL: https://bootstrapmade.com/upconstruction-bootstrap-construction-website-template/
    * Author: BootstrapMade.com
    * License: https://bootstrapmade.com/license/
    ======================================================== -->
</head>

<body>


<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm"
        crossorigin="anonymous"></script>

<header id="header" class="header d-flex align-items-center">
    <div class="container-fluid container-xl d-flex align-items-center justify-content-between">

        <a class="logo d-flex align-items-center">
            <img src="assets/lib.png" alt="">
            <h1>Library<span>.</span></h1>
        </a>

        <i class="mobile-nav-toggle mobile-nav-show bi bi-list"></i>
        <i class="mobile-nav-toggle mobile-nav-hide d-none bi bi-x"></i>
        <nav id="navbar" class="navbar">
            <ul>
                <li><a href="index.html" class="active">Home</a></li>
                <li><a href="all-books.html" hreflang="ar">Books</a></li>
                <li><a href="all-categories.html" hreflang="ar">Categories</a></li>
          
                <li><a href="contact.html">Contact</a></li>
            </ul>
        </nav><!-- .navbar -->

    </div>
</header><!-- End Header -->
<main id="main">

    <!-- ======= Breadcrumbs ======= -->
    <div class="breadcrumbs d-flex align-items-center" style="background-image: url('assets/about-book.avif');">
        <div class="container position-relative d-flex flex-column align-items-center" data-aos="fade">

            <h2>Books</h2>
            <ol>
                <li><a href="index.html">Home</a></li>
                <li>Books</li>
            </ol>
        </div>


    </div><!-- End Breadcrumbs -->
    <div class="container">
        <ul id="bookList" class="container row">
            <!-- Book names will be displayed here -->
        </ul>
    </div>
    <!-- ======= About Section ======= -->
    <section id="about" class="about">
        <div class="container" data-aos="fade-up">

            <div class="row position-relative">

                <div class="container">

                    <div class="col"><img class="about-img"
                                          style="max-width: 100%; max-height: 100%; object-fit: contain;"
                                          src="assets/lib.png"/></div>
                    <div class="col-md-5">
                        <h2>More</h2>
                        <div class="our-story">
                            <h4>Est 2000</h4>
                            <h3>Our Story</h3>
                            <p>A library is a place where books and sources of information are stored. They make it
                                easier for people to get access to them for various purposes. Libraries are very
                                helpful
                                and economical too. They include books, magazines, newspapers, DVDs, manuscripts and
                                more.</p>
                            <ul>
                                <li><i class="bi bi-check-circle"></i>
                                    <span>More than 10,000 books on 50+ categories</span></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>

        </div>
    </section>
    <!-- End About Section -->

    <!-- ======= Stats Counter Section ======= -->
    <section id="stats-counter" class="stats-counter section-bg">
        <div class="container">

            <div class="row gy-4">

                <div class="col-lg-3 col-md-6">
                    <div class="stats-item d-flex align-items-center w-100 h-100">
                        <i class="bi bi-emoji-smile color-blue flex-shrink-0"></i>
                        <div>
                            <span data-purecounter-start="0" data-purecounter-end="232" data-purecounter-duration="1"
                                  class="purecounter"></span>
                            <p>Happy Clients</p>
                        </div>
                    </div>
                </div><!-- End Stats Item -->

                <div class="col-lg-3 col-md-6">
                    <div class="stats-item d-flex align-items-center w-100 h-100">
                        <i class="bi bi-journal-richtext color-orange flex-shrink-0"></i>
                        <div>
                            <span data-purecounter-start="0" data-purecounter-end="521" data-purecounter-duration="1"
                                  class="purecounter"></span>
                            <p>Projects</p>
                        </div>
                    </div>
                </div><!-- End Stats Item -->

                <div class="col-lg-3 col-md-6">
                    <div class="stats-item d-flex align-items-center w-100 h-100">
                        <i class="bi bi-headset color-green flex-shrink-0"></i>
                        <div>
                            <span data-purecounter-start="0" data-purecounter-end="1463" data-purecounter-duration="1"
                                  class="purecounter"></span>
                            <p>Hours Of Support</p>
                        </div>
                    </div>
                </div><!-- End Stats Item -->

                <div class="col-lg-3 col-md-6">
                    <div class="stats-item d-flex align-items-center w-100 h-100">
                        <i class="bi bi-people color-pink flex-shrink-0"></i>
                        <div>
                            <span data-purecounter-start="0" data-purecounter-end="15" data-purecounter-duration="1"
                                  class="purecounter"></span>
                            <p>Hard Workers</p>
                        </div>
                    </div>
                </div><!-- End Stats Item -->
            </div>
        </div>
    </section><!-- End Stats Counter Section -->


</main><!-- End #main -->
<a href="#" class="scroll-top d-flex align-items-center justify-content-center"><i class="bi bi-arrow-up-short"></i></a>

<div id="preloader"></div>

<!-- Vendor JS Files -->
<script src="assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
<script src="assets/vendor/aos/aos.js"></script>
<script src="assets/vendor/glightbox/js/glightbox.min.js"></script>
<script src="assets/vendor/isotope-layout/isotope.pkgd.min.js"></script>
<script src="assets/vendor/swiper/swiper-bundle.min.js"></script>
<script src="assets/vendor/purecounter/purecounter_vanilla.js"></script>
<script src="assets/vendor/php-email-form/validate.js"></script>

<!-- Template Main JS File -->
<script src="assets/main.js"></script>

<div class="d-flex flex-column flex-md-row p-4 gap-4 py-md-5 align-items-center justify-content-center">
    <div class="list-group" id="bookList">
        <!-- Book list items will be added here -->
    </div>

    <script>
        // Function to fetch and display the list of books
        async function fetchBooks() {
            try {
                const response = await fetch('http://localhost:8080/lms/v1/book/');
                if (!response.ok) {
                    throw new Error('Failed to fetch books');
                }
                const data = await response.json();
                const bookList = document.getElementById('bookList');
                data.forEach(book => {
                const listItemDiv = document.createElement('div')
                listItemDiv.classList.add('col-md-3')
                    const listItem = document.createElement('a');
                  listItem.classList.add('list-group-item', 'list-group-item-action', 'd-flex', 'gap-3', 'py-3');
            listItem.href = '#'; // Set href to '#' for click handling
                listItem.onclick = function() {
                        showBookDetails(book); // Pass the book object to showBookDetails
                        return false; // Prevent the default link behavior
                    };
			
			  const image = document.createElement('img');
            image.src = book.image; // Set the image source from the JSON object
            image.alt = book.name;
            image.width = 100;
            image.height = 150;
            image.classList.add('rounded-rectangle', 'flex-shrink-0');

            const contentDiv = document.createElement('div');
            contentDiv.classList.add('d-flex', 'gap-2', 'w-100', 'justify-content-between');

            const textDiv = document.createElement('div');
            const heading = document.createElement('h6');
            heading.classList.add('mb-0');
            heading.textContent = book.name;

            const description = document.createElement('p');
            description.classList.add('mb-0', 'opacity-75');
            description.textContent = book.description;
	
	 //   const details= document.createElement('p');
      //      description.classList.add('mb-0', 'opacity-75');
       //     description.textContent = book.details;


            textDiv.appendChild(heading);
            textDiv.appendChild(description);
 		//textDiv.appendChild(details);		


            contentDiv.appendChild(textDiv);
          

            listItem.appendChild(image);
            listItem.appendChild(contentDiv);
            listItemDiv.appendChild(listItem);

                    bookList.appendChild(listItemDiv);
                });
            } catch (error) {
                console.error(error);
            }
        }

 function showBookDetails(book) {
        const aboutSection = document.getElementById('about');
const aboutImg = aboutSection.querySelector('.about-img');
const publishedDate = aboutSection.querySelector('.our-story h4');
const bookName = aboutSection.querySelector('.our-story h3');
const bookDescription = aboutSection.querySelector('.our-story p');
const stockInfo = aboutSection.querySelector('.our-story ul li span');
    

aboutImg.src = book.image;
publishedDate.textContent = book.publishedTime;
bookName.textContent = book.name;
bookDescription.textContent = book.description + ' ' + book.details; // Display both description and details
stockInfo.textContent = `in Stock ${book.count}`;

            // You can also add additional logic or update other elements as needed
        }


        // Call the function to fetch and display the list of books
        fetchBooks();




    </script>
</div>


</body>
</html>
